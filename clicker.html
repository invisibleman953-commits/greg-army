<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Greg Clicker</title>

<style>
body {
    font-family: Arial;
    text-align: center;
    background: url("greg.png") no-repeat center center fixed;
    background-size: cover;
    background-color: rgba(0,0,0,0.6);
    background-blend-mode: darken;
    color: white;
    padding-top: 80px;
}

#backButton {
    position: fixed;
    top: 20px;
    left: 20px;
    padding: 10px 15px;
    font-weight: bold;
    background: orange;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

#gregImage {
    width: 250px;
    cursor: pointer;
    transition: transform 0.1s ease;
}

#gregImage:active {
    transform: scale(1.1);
}

button {
    padding: 12px 20px;
    margin: 10px;
    border-radius: 8px;
    border: none;
    font-weight: bold;
    cursor: pointer;
    background: limegreen;
}

button:hover {
    background: green;
}

#boostSection, #skinsTab {
    margin-top: 25px;
}

.skinCard {
    display: inline-block;
    width: 150px;
    margin: 10px;
    padding: 10px;
    background: rgba(0,0,0,0.6);
    border-radius: 12px;
    text-align: center;
    color: white;
}

.skinCard img {
    width: 100px;
    height: 100px;
    border-radius: 8px;
}

.skinCard button {
    display: block;
    margin: 5px auto;
    padding: 5px 10px;
    border-radius: 6px;
    border: none;
    font-weight: bold;
    cursor: pointer;
    background: limegreen;
}

.skinCard button:hover {
    background: green;
}

.skinTick {
    color: gold;
    font-weight: bold;
    margin-top: 5px;
}

@keyframes goldenPulse {
    0% { filter: drop-shadow(0 0 10px gold) brightness(1.1); }
    50% { filter: drop-shadow(0 0 30px gold) brightness(1.4); }
    100% { filter: drop-shadow(0 0 10px gold) brightness(1.1); }
}

.goldenGlow {
    animation: goldenPulse 2s infinite ease-in-out;
}
</style>
</head>

<body>

<button id="backButton" onclick="location.href='index.html'">Back to Home</button>

<h1>Greg Clicker üêä</h1>
<p>Points: <span id="points">0</span></p>
<p>Multiplier: x<span id="multiplier">1</span></p>

<img src="greg.png" id="gregImage" alt="Greg">

<!-- Boosts -->
<div id="boostSection">
<h2>Boosts</h2>
<button onclick="buyMultiplier()">Buy x2 Multiplier (Cost: 50)</button>
<button onclick="buyAutoClicker()">Buy Auto Clicker (Cost: 100)</button>
<!-- Add more boosts here as needed -->
</div>

<!-- Skins Mini-tab -->
<div id="skinsTab">
<h2>Skins</h2>
<div id="skinShopContainer"></div>
</div>

<script>
// ------------------ Game Variables ------------------
let points = parseInt(localStorage.getItem("gregPoints")) || 0;
let multiplier = parseInt(localStorage.getItem("gregMultiplier")) || 1;
let autoClickers = parseInt(localStorage.getItem("gregAuto")) || 0;
let currentSkin = localStorage.getItem("gregSkin") || "default";
let unlockedSkins = JSON.parse(localStorage.getItem("gregUnlockedSkins")) || { default: true };
let achievements = JSON.parse(localStorage.getItem("gregAchievements")) || {
    clicks1000: false,
    millionPoints: false,
    goldenCritMaster: false
};
let sessionCrits = 0; // for Golden Greg

const pointsDisplay = document.getElementById("points");
const multiplierDisplay = document.getElementById("multiplier");
const gregImage = document.getElementById("gregImage");

// ------------------ Skin Data ------------------
const skinData = {
    default: { name: "Default Greg", file: "greg.png", cost: 0 },
    deadcells: { name: "Dead Cells Greg", file: "deadcells_greg.png", cost: 5000 },
    kratos: { name: "Kratos Greg", file: "kratos_greg.png", cost: 20000 },
    knight: { name: "Knight Greg", file: "knight_greg.png", cost: 50000 },
    doom: { name: "Doom Greg", file: "doom_greg.png", achievement: "clicks1000" },
    vader: { name: "Vader Greg", file: "vader_greg.png", achievement: "millionPoints" },
    golden: { name: "Golden Greg", file: "golden_greg.png", achievement: "goldenCritMaster" }
};

// ------------------ Display Functions ------------------
function updateDisplay() {
    pointsDisplay.textContent = points;
    multiplierDisplay.textContent = multiplier;
}

function saveGame() {
    localStorage.setItem("gregPoints", points);
    localStorage.setItem("gregMultiplier", multiplier);
    localStorage.setItem("gregAuto", autoClickers);
    localStorage.setItem("gregSkin", currentSkin);
    localStorage.setItem("gregUnlockedSkins", JSON.stringify(unlockedSkins));
    localStorage.setItem("gregAchievements", JSON.stringify(achievements));
}

// ------------------ Click Greg ------------------
gregImage.addEventListener("click", () => {
    let baseGain = multiplier;
    
    // Example crit system: 10% chance
    let isCrit = Math.random() < 0.1;
    let critMultiplier = 2;
    if (isCrit) {
        baseGain *= critMultiplier;
        sessionCrits++;
        if (currentSkin === "golden") {
            achievements.goldenCritMaster = achievements.goldenCritMaster || sessionCrits >= 10;
            if (achievements.goldenCritMaster) {
                unlockedSkins.golden = true;
                alert("Golden Greg Unlocked!");
            }
        }
    }

    points += baseGain;
    updateDisplay();
    saveGame();

    // Achievement unlocks
    if (points >= 1000000 && !achievements.millionPoints) {
        achievements.millionPoints = true;
        unlockedSkins.vader = true;
        alert("Vader Greg Unlocked!");
    }
    if (points >= 1000 && !achievements.clicks1000) {
        achievements.clicks1000 = true;
        unlockedSkins.doom = true;
        alert("Doom Greg Unlocked!");
    }

    renderSkinShop();
});

// ------------------ Boost Functions ------------------
function buyMultiplier() {
    if (points >= 50) {
        points -= 50;
        multiplier *= 2;
        updateDisplay();
        saveGame();
    }
}

function buyAutoClicker() {
    if (points >= 100) {
        points -= 100;
        autoClickers++;
        updateDisplay();
        saveGame();
    }
}

// Auto clicker
setInterval(() => {
    if (autoClickers > 0) {
        points += autoClickers;
        updateDisplay();
        saveGame();
    }
}, 1000);

// ------------------ Skin Functions ------------------
function applySkin() {
    gregImage.classList.remove("goldenGlow");
    gregImage.src = skinData[currentSkin].file;
    if (currentSkin === "golden") {
        gregImage.classList.add("goldenGlow");
    }
}

function buySkin(key) {
    const skin = skinData[key];
    if (skin.cost && points >= skin.cost) {
        points -= skin.cost;
        unlockedSkins[key] = true;
        updateDisplay();
        renderSkinShop();
        saveGame();
    } else {
        alert("Not enough points!");
    }
}

function equipSkin(key) {
    if (!unlockedSkins[key]) return;
    currentSkin = key;
    applySkin();
    renderSkinShop();
}

// Render shop
function renderSkinShop() {
    const container = document.getElementById("skinShopContainer");
    container.innerHTML = "";

    for (let key in skinData) {
        const skin = skinData[key];
        const owned = unlockedSkins[key] || (skin.achievement && achievements[skin.achievement]);
        if (skin.achievement && achievements[skin.achievement]) unlockedSkins[key] = true;

        const card = document.createElement("div");
        card.className = "skinCard";

        card.innerHTML = `
            <img src="${skin.file}" alt="${skin.name}">
            <div>${skin.name}</div>
            <div>${owned ? "‚úÖ Owned" : (skin.cost ? "Cost: " + skin.cost : "Achievement: " + skin.achievement)}</div>
            <button ${owned ? "" : "onclick='buySkin(\"" + key + "\")'"}>${owned ? "Owned" : "Buy"}</button>
            <button ${owned ? "onclick='equipSkin(\"" + key + "\")'" : "disabled"}>Equip</button>
        `;

        container.appendChild(card);
    }
    saveGame();
}

// ------------------ Init ------------------
applySkin();
updateDisplay();
renderSkinShop();
</script>

</body>
</html>
